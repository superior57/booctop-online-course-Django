{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <!-- UTF-8 For MultiLanguages -->
    <meta charset="utf-8">

    <!-- For Flixable -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    {% load static %}

    <!-- Title of website -->
    <title>Booctep | Homepage</title>

    <!-- Tab Logo -->
    <link rel="icon" type="image/png" href="{%static 'assets/img/favicon.png' %}" />

    <!-- Material Design Icons -->
    <link type="text/css" href="{%static 'assets4/css/material-icons.css' %}" rel="stylesheet">

    <!-- App CSS -->
    <link type="text/css" href="{%static 'assets/css/sideb.css' %}" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet">


    <!-- CSS Style -->
    <link rel="stylesheet" href="{% static 'assets/css/bulma.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/app.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/core.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{%static 'assets/css/media.css' %}">
    <!-- <link rel="stylesheet" href="{%static 'assets/css/dark.css' %}"> -->

    <!-- Video Player And jQuery -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.5.10/plyr.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
    <script src="https://cdn.plyr.io/3.5.10/plyr.js"></script>
    <script src="https://cdn.plyr.io/3.5.10/plyr.polyfilled.js"></script>
    <!-- Video Player And jQuery -->

    {% block head %}
    {%  endblock %}
</head>

<body>
    <!-- Pageloader -->
    <!-- <div class="pageloader"></div>
    <div class="infraloader is-active"></div>
    <div class="app-overlay"></div> -->

    <!-- Main Navbar -->
    <input type="hidden" id="hd_csrf" value="{{ csrf_token }}">
    {% if request.path == '/become' %}
        {% include "layout/header-2.html" %}
    {% else %}
        {% include "layout/header.html" %}
    {% endif %}

    {% block content %}
    {%  endblock %}

    <!-- Categories -->
    <div class="explorer-menu">
        <div class="explorer-inner">
            <div class="container">
                <!--Header-->
                <div class="explorer-header">
                    <h3>Explore</h3>
                </div>
                <!--List-->
                <div class="explore-list">
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/coding.svg' %}" alt="">
                        <h4>Web Development</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/business.svg' %}" alt="">
                        <h4>Business</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/aviation.svg' %}" alt="">
                        <h4>Aviation</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/controller.svg' %}" alt="">
                        <h4>Games</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/math.svg' %}" alt="">
                        <h4>Mathmatics</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/lifestyle.svg' %}" alt="">
                        <h4>life Style</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/arts.svg' %}" alt="">
                        <h4>Arts</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/It.svg' %}" alt="">
                        <h4>Information Technology</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/drama.svg' %}" alt="">
                        <h4>Cenima & Drama</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/software.svg' %}" alt="">
                        <h4>Software Programming</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/languages.svg' %}" alt="">
                        <h4>Languages</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/coock.svg' %}" alt="">
                        <h4>Food & Cooking</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/maintanece.svg' %}" alt="">
                        <h4>Repare & Maintaince</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/skills.svg' %}" alt="">
                        <h4>Skills</h4>
                    </a>
                    <!--item-->
                    <a href="/single_category" class="explore-item">
                        <img src="{% static 'assets/img/icons/explore/other.svg' %}" alt="">
                        <h4>Others</h4>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- Categories -->

    <!-- Login Modal Start -->
    <div id="product-quickview" class="modal product-quickview is-xsmall has-light-bg">
        <div class="modal-background quickview-background"></div>
        <div class="modal-content">
            <div class="card">
                <div class="quickview-loader is-active">
                    <div class="loader is-loading"></div>
                </div>
                <div class="right">
                    <span class="close-modal close-modal-2">
                        <i data-feather="x"></i>
                    </span>
                    <div class="header">
                        <div class="product-info">
                            <img class="Loginmodal-img" src="{% static 'assets/img/favicon.png' %}" alt="">
                            <h3 id="quickview-name">Login</h3>
                            <p style="margin-bottom: 10px;">Welcome Back</p>
                            <a href="#" class="button is-fullwidth"
                                style="margin-bottom: 5px;background-color: rgb(218, 1, 1);color: #fff;">Login via Gmail
                                &nbsp;<i class="mdi mdi-gmail"></i>
                            </a>
                            <a href="#" class="button is-fullwidth"
                                style="background-color: rgb(61, 136, 206);color: #fff;">Login via Twitter
                                &nbsp;<i class="mdi mdi-twitter"></i>
                            </a>
                        </div>
                    </div>
                    <div class="text-align-center" style="text-align:center; color :  rgb(218, 1, 1);" id="div_error">
                    </div>
                    <div id="signup-panel-2" class="process-panel-wrap is-narrow">
                        <div class="form-panel">
                            <div class="search-filter" style="margin-bottom: 10px;">
                                <div class="control has-icon">
                                    <input type="email" class="input is-fade" placeholder="Enter email" id="email"
                                        name="email">
                                    <div class="form-icon">
                                        <i class="fa fa-user" style="font-size: x-small;"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="search-filter" style="margin-bottom: 10px;">
                                <div class="control has-icon">
                                    <input type="password" class="input is-fade" placeholder="Enter your password"
                                        id="password" name="password">
                                    <div class="form-icon">
                                        <i class="fa fa-key" style="font-size: x-small;"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <p style="font-size: small;"><input type="checkbox"> Remember me</p>
                                </div>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <button class="button primary-button raised is-fullwidth dark-button"
                                        onclick="return login()">
                                        <p>Login</p>
                                    </button>
                                </div>
                            </div>
                            <p> Already have an account ? <a href="/signup">Sign up</a></p>
                            <div class="has-text-centered" style="margin-top: 10px;">
                                <a class="modal-trigger" data-modal="albums-help-modal">Forget Password</a>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Login Modal End -->

    <!-- Forget Password -->
    <div id="albums-help-modal" class="modal albums-help-modal is-xsmall has-light-bg">
        <div class="modal-background"></div>
        <div class="modal-content">

            <div class="card">
                <div class="card-heading">
                    <h3>Forget Password</h3>
                    <!-- Close X button -->
                    <div class="close-wrap">
                        <span class="close-modal">
                            <i data-feather="x"></i>
                        </span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="content-block is-active"
                        style="margin-left: -35px;text-align: center;align-items: center;">
                        <img src="{% static 'assets/img/forget_email.svg' %}" alt="">
                        <div class="help-text">
                            <p style="margin-bottom: 10px;color: rgb(29, 29, 29);">Enter your Email address.</p>
                            <input type="text" style="margin-bottom: 10px;" class="input is-fade"
                                placeholder="Enter your Email">
                            <a href="#" style="background-color:rgb(0, 81, 128);color: #fff;"
                                class="button is-fullwidth">Send link</a>

                        </div>


                    </div>

                    <div class="content-block">
                    </div>

                    <div class="slide-dots">
                        <div class="column is-12">


                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <p style="font-size: small;margin-top: 10px;font-weight: 400;">Forgot which email address you signed
                        up with? <a href="support.html">Get help!</a> </p>
                </div>
            </div>
        </div>
    </div>
    <!-- Forget Password -->
    {% include "layout/footer.html" %}


    <script src="{% static 'assets/js/writter.js' %}"></script>

    <!-- Concatenated js plugins and jQuery -->
    <script src="{% static 'assets/js/app.js' %}"></script>
    <!-- Video player js -->

    <!-- jQuery -->
    <script src="{% static 'assets/vendor/jquery.min.js' %}"></script>

    <!-- Font Awesome -->
    <script src="{% static 'assets/js/all.js' %}"></script>

    <!-- Core js -->
    <script src="{% static 'assets/js/global.js' %}"></script>
    <script src="{% static 'assets/js/main.js' %}"></script>

    <script src="{% static 'assets/js/profile.js' %}"></script>
    <script src="{% static 'assets/js/explorer.js' %}"></script>
    <script src="{% static 'assets/js/shop.js' %}"></script>



    <!-- Bootstrap -->
    <script src="{% static 'assets/vendor/popper.min.js' %}"></script>
    <script src="{% static 'assets/vendor/bootstrap.min.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            console.log("local storage mode", localStorage.getItem('mode'));
            if(localStorage.getItem('mode') == 'dark') {
                document.getElementById("toggler").click();
            }
            color_mode();
        });
        
        $.ajaxSetup({
            headers: { 'X-CSRFToken': $("#hd_csrf").val(), }
        });


        function login() {
            $("#div_error").html("");
            if ($("#email").val() == "") {
                $("#div_error").html("Please enter the valid email");
                return false
            } else if ($("#password").val() == "") {
                $("#div_error").html("Please enter the password");
                return false
            }


            // Ajax start
            var action = "/login";
            $.ajax({
                url: action,
                type: 'POST',
                dataType: 'json',
                // headers: {'X-CSRFToken': $("#hd_csrf").val(),},
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                data: {
                    email: $("#email").val(),
                    password: $("#password").val(),
                },

                beforeSend: function () {

                    console.log("Beforesend")
                },
                success: function (data) {
                    console.log(data)
                    if (data.msg == "success") {
                        window.location.href = "/"
                    } else {
                        $("#div_error").html("Please enter the correct email and password.");
                        return false
                    }
                    return false
                },
                error: function (err) {
                    return false
                }
            })
            // Ajax end
            return false
        }
        
        let head = document.getElementsByTagName('HEAD')[0];

        // Create new link Element 
        let link = document.createElement('link');

        // set the attributes for link element  
        link.rel = 'stylesheet';

        link.type = 'text/css';

        link.href = "{%static 'assets/css/dark.css' %}";

        $('.toggler').on('click', function () {
            if(localStorage.getItem('mode') == 'light') {
                localStorage.setItem('mode', 'dark');
            } else {
                localStorage.setItem('mode', 'light');
            }
            color_mode();
        });
        function color_mode()
        {
            if (localStorage.getItem('mode') == 'dark') {
                $("body").addClass('body_bg');
                $(".navbar").addClass('navbar-dark');
                $(".is-icon").addClass('is-dark-icon');
                $(".control").addClass('control-is-dark');
                $(".button-become-a-teacher").removeClass('is-light');
                $(".is-cart").addClass('is-dark-cart');
                $(".second-button").addClass('signup-button-is-dark');
                $(".primary-button").addClass('login-button-is-dark');
                $(".shop-header").addClass('shop-header-is-dark');
                $(".is-combo").addClass('is-combo-dark');
                $(".product-card").addClass('product-card-dark');
                $(".explorer-menu").addClass('explorer-menu-dark');
                $(".categories-bg").addClass('categories-dark-bg');
                $(".categories-header").addClass('categories-dark-header');
                $(".category-box").addClass('category-dark-box');
                $(".product-quickview").addClass('product-quickview-dark');
                $(".card").addClass('card-dark');
                $(".Loginmodal-img").addClass('Loginmodal-img-dark');
                $(".user-meta-span").addClass('user-meta-span-dark');
                $(".footer-column").addClass('footer-column-dark');
                $(".hero-homepage").addClass('dark-homepage');
                $(".footer").addClass('dark-footer');
                $(".mode_images").attr('src', "{%static 'assets/img/dark-logo.png' %}");
                $(".primary__title").attr('style', 'color: #1a1c20;font-weight: 500;font-size: large');
                $(".secondary__title").attr('style', 'color: #222831;');
                $(".fa-users").attr('style', 'color: #e2e2e4;');
                $(".fa-video").attr('style', 'color: #e2e2e4;');
                $(".footer-columns:first-child").attr('style', 'border-bottom: 1px solid #222831;');
                head.appendChild(link);

            } else {                
                $("body").removeClass('body_bg');
                $("body").css('background', 'white');
                $(".navbar").removeClass('navbar-dark');
                $(".is-icon").removeClass('is-dark-icon');
                $(".control").removeClass('control-is-dark');
                $(".button-become-a-teacher").addClass('is-light');
                $(".is-cart").removeClass('is-dark-cart');
                $(".second-button").removeClass('signup-button-is-dark');
                $(".primary-button").removeClass('login-button-is-dark');
                $(".shop-header").removeClass('shop-header-is-dark');
                $(".is-combo").removeClass('is-combo-dark');
                $(".product-card").removeClass('product-card-dark');
                $(".explorer-menu").removeClass('explorer-menu-dark');
                $(".categories-bg").removeClass('categories-dark-bg');
                $(".categories-header").removeClass('categories-dark-header');
                $(".category-box").removeClass('category-dark-box');
                $(".product-quickview").removeClass('product-quickview-dark');
                $(".card").removeClass('card-dark');
                $(".Loginmodal-img").removeClass('Loginmodal-img-dark');
                $(".user-meta-span").removeClass('user-meta-span-dark');
                $(".footer-column").removeClass('footer-column-dark');
                $(".hero-homepage").removeClass('dark-homepage');
                $(".footer").removeClass('dark-footer');
                $(".mode_images").attr('src', "{%static 'assets/img/logo/booctep-tran.png' %}");
                $(".primary__title").attr('style', 'color: #fff;font-weight: 500;font-size: large');
                $(".secondary__title").attr('style', '');
                $(".fa-users").attr('style', '');
                $(".fa-video").attr('style', '');
                $(".footer-columns:first-child").attr('style', 'border-bottom: 1px solid rgb(226, 226, 226);');
                head.removeChild(link);
            }
        }
    </script>
    {% block script %}
    {%  endblock %}
</body>

</html>